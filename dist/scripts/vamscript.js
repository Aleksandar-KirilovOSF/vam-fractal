!function(){function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return o(t[s][1][e]||e)},d,d.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return e}()({1:[function(e,t,n){n.defaults={},n.set=function(e,t,r){var o=r||{},i=n.defaults,s=o.expires||i.expires,a=o.domain||i.domain,c=void 0!==o.path?o.path:void 0!==i.path?i.path:"/",l=void 0!==o.secure?o.secure:i.secure,d=void 0!==o.httponly?o.httponly:i.httponly,u=void 0!==o.samesite?o.samesite:i.samesite,f=s?new Date("number"==typeof s?(new Date).getTime()+864e5*s:s):0;document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(f&&f.getTime()>=0?";expires="+f.toUTCString():"")+(a?";domain="+a:"")+(c?";path="+c:"")+(l?";secure":"")+(d?";httponly":"")+(u?";samesite="+u:"")},n.get=function(e){for(var t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");r=r<0?n.length:r;if(decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))===e)return decodeURIComponent(n.slice(r+1))}return null},n.erase=function(e,t){n.set(e,"",{expires:-1,domain:t&&t.domain,path:t&&t.path,secure:0,httponly:0})},n.all=function(){for(var e={},t=document.cookie.split(";");t.length;){var n=t.pop(),r=n.indexOf("=");r=r<0?n.length:r;e[decodeURIComponent(n.slice(0,r).replace(/^\s+/,""))]=decodeURIComponent(n.slice(r+1))}return e}},{}],2:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var l=0;l<c;++l){var d,u,f,m,v=e[l].replace(/\+/g,"%20"),p=v.indexOf(n);p>=0?(d=v.substr(0,p),u=v.substr(p+1)):(d=v,u=""),f=decodeURIComponent(d),m=decodeURIComponent(u),r(s,f)?o(s[f])?s[f].push(m):s[f]=[s[f],m]:s[f]=m}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],3:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(s(e),function(s){var a=encodeURIComponent(o(s))+n;return i(e[s])?r(e[s],function(e){return a+encodeURIComponent(o(e))}).join(t):a+encodeURIComponent(o(e[s]))}).join(t):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],4:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":2,"./encode":3}],5:[function(e,t,n){!function(e,n){"function"==typeof define&&define.amd?define([],function(){return e.svg4everybody=n()}):"object"==typeof t&&t.exports?t.exports=n():e.svg4everybody=n()}(this,function(){function e(e,t,n){if(n){var r=document.createDocumentFragment(),o=!t.hasAttribute("viewBox")&&n.getAttribute("viewBox");o&&t.setAttribute("viewBox",o);for(var i=n.cloneNode(!0);i.childNodes.length;)r.appendChild(i.firstChild);e.appendChild(r)}}function t(t){t.onreadystatechange=function(){if(4===t.readyState){var n=t._cachedDocument;n||(n=t._cachedDocument=document.implementation.createHTMLDocument(""),n.body.innerHTML=t.responseText,t._cachedTarget={}),t._embeds.splice(0).map(function(r){var o=t._cachedTarget[r.id];o||(o=t._cachedTarget[r.id]=n.getElementById(r.id)),e(r.parent,r.svg,o)})}},t.onreadystatechange()}function n(n){function o(){for(var n=0;n<f.length;){var a=f[n],c=a.parentNode,l=r(c),v=a.getAttribute("xlink:href")||a.getAttribute("href");if(!v&&s.attributeName&&(v=a.getAttribute(s.attributeName)),l&&v){if(i)if(!s.validate||s.validate(v,l,a)){c.removeChild(a);var p=v.split("#"),g=p.shift(),h=p.join("#");if(g.length){var y=d[g];y||(y=d[g]=new XMLHttpRequest,y.open("GET",g),y.send(),y._embeds=[]),y._embeds.push({parent:c,svg:l,id:h}),t(y)}else e(c,l,document.getElementById(h))}else++n,++m}else++n}(!f.length||f.length-m>0)&&u(o,67)}var i,s=Object(n),a=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,c=/\bEdge\/.(\d+)\b/,l=window.top!==window.self;i="polyfill"in s?s.polyfill:a.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||c.test(navigator.userAgent)&&l;var d={},u=window.requestAnimationFrame||setTimeout,f=document.getElementsByTagName("use"),m=0;i&&o()}function r(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}return n})},{}],6:[function(e,t,n){"use strict";var r=e("svg4everybody"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);e("../../components/services/object_fit_polyfill/_poly-object-fit.js"),e("../../components/blocks/background-video/_background-video.js"),e("../../components/groups/block-grid/_grid-reveal-more.js"),e("../../components/blocks/cookie-banner/_cookie-banner.js"),e("../../components/blocks/modal/_modal.js"),e("../../components/blocks/newsletter-signup/_newsletter-signup.js"),e("../../components/blocks/search-form/_search-form.js"),e("../../components/blocks/search-result/_search-result.js"),e("../../components/blocks/toggle-nav/_toggle-nav.js"),e("../../components/blocks/video-trailer/_video-trailer.js"),(0,o.default)()},{"../../components/blocks/background-video/_background-video.js":7,"../../components/blocks/cookie-banner/_cookie-banner.js":8,"../../components/blocks/modal/_modal.js":9,"../../components/blocks/newsletter-signup/_newsletter-signup.js":10,"../../components/blocks/search-form/_search-form.js":11,"../../components/blocks/search-result/_search-result.js":12,"../../components/blocks/toggle-nav/_toggle-nav.js":13,"../../components/blocks/video-trailer/_video-trailer.js":14,"../../components/groups/block-grid/_grid-reveal-more.js":15,"../../components/services/object_fit_polyfill/_poly-object-fit.js":16,svg4everybody:5}],7:[function(e,t,n){"use strict";var r=document.querySelector(".js-background-video");if(r){var o=document.querySelector(".js-background-video-container"),i=document.querySelector(".js-stop-button"),s=document.querySelector(".js-background-video-credit"),a=document.querySelector(".js-background-image-credit"),c=0,l=function(){s&&s.classList.remove("hidden"),a&&a.classList.add("hidden")},d=function(){s&&s.classList.add("hidden"),a&&a.classList.remove("hidden")};r.addEventListener("canplaythrough",function(){c>=20?(o.classList.remove("b-video-background--fade"),r.pause(),d()):(o.classList.add("b-video-background--fade"),c+=1,l())});var u=function(){0===o.offsetHeight?(r.pause(),d()):(r.play(),l())};window.addEventListener("load",function(){u()}),window.addEventListener("resize",function(){u()}),i&&(i.onclick=function(){r.pause(),o.classList.remove("b-video-background--fade"),r.paused&&(i.classList.add("hidden"),d())})}},{}],8:[function(e,t,n){"use strict";var r=document.querySelector(".js-cookie-banner");if(r){var o=document.querySelector(".js-cookie-banner-close");window.onload=function(){r.classList.remove("b-cookie-banner--hidden")},o.onclick=function(e){e.preventDefault(),r.classList.add("b-cookie-banner--hidden")}}},{}],9:[function(e,t,n){"use strict";function r(e,t){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"myClick",category:e,action:t})}var o=e("browser-cookies"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=document.querySelectorAll(".js-modal");Array.from(s,function(e){var t=e.dataset.modalCampaign;return e.dataset.modalOnceOnly&&i.default.get(t)||(document.body.appendChild(e),e.classList.add("b-modal--active"),r(t,"pop-up displayed")),e.addEventListener("click",function(n){if(e.dataset.modalOnceOnly&&i.default.set(t,"seen",{domain:e.dataset.modalDomain,expires:365}),n.target!==e){var o=e.querySelector(".js-modal-action");n.target===o?r(t,"clicked: "+o.textContent):(r(t,"pop-up dismissed"),e.remove())}}),!0})},{"browser-cookies":1}],10:[function(e,t,n){"use strict";function r(e){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e)}Array.from(document.querySelectorAll(".js-newsletter_form"),function(e){return e.addEventListener("submit",function(t){t.preventDefault();var n=e.querySelector(".js-emailValidation"),o=e.querySelector(".js-newsletter__descriptor"),i=e.querySelector(".js-newsletter__submit"),s=new XMLHttpRequest,a="";r(n.value)?(s||e.submit(),Array.from(e.querySelectorAll("input"),function(e){return a+=e.name+"="+encodeURIComponent(e.value)+"&",!0}),s.onreadystatechange=function(){s.readyState===XMLHttpRequest.DONE&&(200===s.status?(i.value="Thank you!",o.innerHTML="A confirmation email will be sent to this address shortly&hellip;",e.classList.remove("invalid"),e.classList.add("sent")):e.submit())},s.open("POST",e.action),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(a)):(o.innerHTML="That doesn't look like an email address&hellip;",e.classList.add("invalid"))}),!0})},{}],11:[function(e,t,n){"use strict";function r(){a.innerHTML=s.value.replace(/\s/g,"&nbsp;")}function o(){l.classList.add("b-search-form__clear--hidden"),s.value.length?c.classList.remove("b-search-form__submit--hidden"):c.classList.add("b-search-form__submit--hidden")}function i(){l.classList.add("b-search-form__clear--hidden"),s.value="",r()}var s=document.querySelector(".js-search-input"),a=document.querySelector(".js-search-underscore"),c=document.querySelector(".js-search-submit"),l=document.querySelector(".js-search-clear");s&&(s.focus(),function(){c.classList.add("b-search-form__submit--hidden"),s.value.length&&l.classList.remove("b-search-form__clear--hidden")}(),r(),s.addEventListener("input",r),s.addEventListener("input",o),l.addEventListener("click",i))},{}],12:[function(e,t,n){"use strict";function r(e){if(e.innerHTML=e.textFull,e.scrollHeight-e.clientHeight>10){var t=e.textFull.indexOf("</em>"),n=e.clientHeight/e.scrollHeight*e.textFull.length,r=t-n,o=0,i=e.textFull.lastIndexOf(" ",n),s="";r>0&&(s="&hellip;",o=e.textFull.indexOf(" ",r+20)+1,i=e.textFull.lastIndexOf(" ",n+r+20)),e.innerHTML=""+s+e.textFull.substring(o,i)+"&hellip;"}}var o=document.querySelectorAll(".js-search-result-text");o.length&&Array.from(o,function(e){return e.textFull=e.innerHTML,r(e),window.addEventListener("resize",r.bind(void 0,e),!1),!0})},{}],13:[function(e,t,n){"use strict";var r=e("querystring"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=document.querySelector(".js-toggle-nav");if(i){var s=i.querySelectorAll(".js-toggle-nav-btn"),a=o.default.parse(window.location.search.replace("?","")),c=a.type;Array.from(s,function(e){var t=document.querySelectorAll(e.dataset.toggeesSelector);return e.addEventListener("click",function(n){n.preventDefault();var r=e.dataset.toggleType;i.scrollLeft=e.offsetLeft-(i.getBoundingClientRect().width-e.getBoundingClientRect().width)/2,e.preventHistoryPush||window.history.pushState({toggleNavType:r},"","?type="+r),e.preventHistoryPush=!1,Array.from(t,function(e){return e.classList.add("s-visually-hidden"),e.dataset.toggleType===r&&e.classList.remove("s-visually-hidden"),!0}),Array.from(s,function(e){return e.classList.remove("s-themed--border-color"),!0}),e.classList.add("s-themed--border-color")},!1),e.dataset.toggleType===c&&(e.preventHistoryPush=!0,setTimeout(function(){e.click()},50)),!0}),window.addEventListener("popstate",function(e){return Array.from(document.querySelectorAll("s-visually-hidden"),function(e){return e.classList.remove("s-visually-hidden"),!0}),e.state&&e.state.toggleNavType&&Array.from(s,function(t){return e.state.toggleNavType===t.dataset.toggleType&&(t.preventHistoryPush=!0,t.click()),!0}),!0},!1),c||void 0===i.dataset.toggleTypeDefault||document.querySelector("[data-toggle-type="+i.dataset.toggleTypeDefault+"]").click()}},{querystring:4}],14:[function(e,t,n){"use strict";var r=document.querySelector(".js-video-trailer");if(r){var o=r.querySelector(".js-video-trailer-preview"),i=document.createElement("div");r.addEventListener("click",function(e){e.preventDefault(),i.className="b-video-trailer__image",i.innerHTML='<iframe class="" width="100%" height="100%" src="'+r.href+'"&playsinline=1" frameborder="0" allowfullscreen></iframe>',o.remove(),r.appendChild(i),i.style.height=.5625*i.offsetWidth+"px"}),window.addEventListener("resize",function(){i.style.height=.5625*i.offsetWidth+"px"})}},{}],15:[function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=document.querySelectorAll(".js-grid-reveal-more");o.length&&(Array.from(o,function(e){var t=e.dataset.revealMoreCounter||4;if(t<e.childElementCount){var n=e.dataset.iconUrl,o=[].concat(r(e.children)),i=e.dataset.revealMoreTheme||"dark",s=e.dataset.revealMoreTracking||"",a=e;e.dataset.revealMorePutAfter&&(a=document.querySelector(e.dataset.revealMorePutAfter)),o.slice(t).forEach(function(e){return e.classList.add("s-visually-hidden")});var c=document.createElement("footer");c.setAttribute("class","b-block-grid__footer b-block-grid__footer--"+i),c.innerHTML='\n        <a href="#" data-tracking-showmorebutton="'+s+'" class="js-reveal-more-btn">\n          <div class="b-icon-badge b-icon-badge--small b-icon-badge--'+i+'">\n            <div class="b-icon-badge__icon s-themed s-themed--background-color s-themed--background-color--hover">\n              <svg role="img">\n                <use xlink:href="'+n+'#plus"></use>\n              </svg>\n            </div>\n            <small class="b-icon-badge__label">\n              Show more\n            </small>\n          </div>\n        </a>\n      ',a.parentNode.insertBefore(c,a.nextSibling),e.revealMoreClicks=0,c.addEventListener("click",function(n){n.preventDefault(),e.revealMoreClicks+=1;var r=o.filter(function(e){return e.classList.contains("s-visually-hidden")});r.slice(0,t).forEach(function(e){return e.classList.remove("s-visually-hidden")}),r.length<=t&&c.remove()},!1)}return!0}),window.addEventListener("beforeunload",function(){var e=[];Array.from(o,function(t){return e.push(t.revealMoreClicks),!0}),history.replaceState({revealMoreClicks:e},"revealMoreClicks")},!1),window.addEventListener("load",function(){if(history.state&&history.state.revealMoreClicks)for(var e=document.querySelectorAll(".js-reveal-more-btn"),t=0;t<history.state.revealMoreClicks.length;t+=1)for(var n=0;n<history.state.revealMoreClicks[t];)e[t].click(),n+=1},!1))},{}],16:[function(e,t,n){"use strict";function r(){var e=document.querySelectorAll(".js-object-fit-container");[].forEach.call(e,function(e){if(e.getElementsByTagName("img")[0]){var t=e.getElementsByTagName("img")[0].src;t&&(e.classList.add("js-object-fit-container--fallback"),e.style.backgroundImage="url('"+t+"')")}})}"undefined"!=typeof Modernizr&&Modernizr.on("objectfit",function(e){e||r()})},{}]},{},[6]);
//# sourceMappingURL=vamscript.js.map
